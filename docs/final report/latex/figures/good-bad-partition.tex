\begin{figure}[h]
\begin{center}
	\begin{tikzpicture}[part1/.style={draw, circle, inner sep=1mm, fill=green!10},
		part2/.style={draw, circle, inner sep=1mm, fill=red!10},
		edge/.style={semithick}, cut/.style={dashed, gray}]

		\node[part1] (1-1) {\small 1};
		\node[part1, below = of 1-1] (1-2) {\small 2};
		\node[part1, below right = .7 and 1 of 1-2] (1-3) {\small 3};
		\node[part2, above right = of 1-3] (1-4) {\small 5};
		\node[part2, above right = .5 and .5 of 1-4] (1-5) {\small 7};
		\node[part2, above left = 1 and .5 of 1-5] (1-6) {\small 6};
		\node[part2, below right = 0.2 and 1.4 of 1-1] (1-7) {\small 4};

		\draw[cut] (1-1) -- (1-7);
		\draw[edge] (1-1) -- (1-2);
		\draw[edge] (1-1) -- (1-3);
		\draw[cut] (1-2) -- (1-7);
		\draw[cut] (1-3) -- (1-4);
		\draw[cut] (1-3) -- (1-7);
		\draw[edge] (1-4) -- (1-6);
		\draw[edge] (1-5) -- (1-6);
		\draw[cut] (1-1) -- (1-6);
		\coordinate[above right = .8 and .2 of 1-1] (c1);
		\coordinate[right = .3 of 1-3] (c2);

		\draw[dotted, thick] (c1) -- (c2);
		\coordinate (center1) at ($ (1-2)!.5!(1-5) $);
		\node[below = 2.4 of center1] {Bad partition};
		\node[part1,right = 6 of 1-1] (2-1) {\small 1};
		\node[part1, below = of 2-1] (2-2) {\small 2};
		\node[part1, below right = .7 and 1 of 2-2] (2-3) {\small 3};
		\node[part2, above right = of 2-3] (2-4) {\small 5};
		\node[part2, above right = .5 and .5 of 2-4] (2-5) {\small 7};
		\node[part2, above left = 1 and .5 of 2-5] (2-6) {\small 6};
		\node[part1, below right = 0.2 and 1.4 of 2-1] (2-7) {\small 4};

		\draw[edge] (2-1) -- (2-7);
		\draw[edge] (2-1) -- (2-2);
		\draw[edge] (2-1) -- (2-3);
		\draw[edge] (2-2) -- (2-7);
		\draw[cut] (2-3) -- (2-4);
		\draw[edge] (2-3) -- (2-7);
		\draw[edge] (2-4) -- (2-6);
		\draw[edge] (2-5) -- (2-6);
		\draw[cut] (2-1) -- (2-6);

		\coordinate[above left  = .1 and .4 of 2-6] (c3);
		\coordinate[below left  = 1 and .4 of 2-4] (c4);

		\draw[dotted, thick] (c3) -- (c4);
		\coordinate (center2) at ($ (2-2)!.5!(2-5) $);
		\node[below = 2.4 of center2] {Good partition};
\end{tikzpicture}
\end{center}
\caption{Different partitions of a graph}%
\label{fig:good-bad-partition}
\end{figure}
